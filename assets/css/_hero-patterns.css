/* -------------------------------------------------
   Hero background pattern utilities
   Responsive pattern overlay for modern hero sections
   ------------------------------------------------- */

/* Hero base styling with pattern support */
.hero {
  position: relative;
  overflow: hidden;
}

.hero-surface {
  position: relative;
  isolation: isolate;
}

/* Pattern overlay using ::before pseudo-element for better performance */
.hero--with-pattern .hero-surface::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: -1;
  opacity: 0.15;
  pointer-events: none;
  /* Pattern will be set by specific hero-bg-* class */
  background-repeat: repeat, no-repeat;
  background-size: 
    200px auto,  /* Pattern tile size */
    min(520px, 60vw) min(520px, 60vw);  /* Radial gradient - responsive */
  background-position:
    top left,
    85% 25%;
}

/* Responsive pattern sizing */
@media (max-width: 768px) {
  .hero--with-pattern .hero-surface::before {
    background-size: 
      150px auto,  /* Smaller pattern on mobile */
      80vw 80vw;   /* Larger gradient coverage */
    background-position:
      top left,
      50% 20%;     /* Center gradient on mobile */
    opacity: 0.12; /* Slightly more subtle on small screens */
  }
}

@media (min-width: 1400px) {
  .hero--with-pattern .hero-surface::before {
    background-size: 
      220px auto,
      600px 600px;
  }
}

/* Pattern classes - one per pattern file */
.hero-bg-default .hero-surface::before,
.hero-bg-sacred-tile .hero-surface::before {
  background-image: 
    url('/assets/img/patterns/sacred-tile.svg'),
    radial-gradient(
      circle at 85% 25%,
      rgba(26, 200, 122, 0.35),  /* Emerald glow */
      transparent 55%
    );
}

/* Fallback for browsers that don't support modern background syntax */
@supports not (background-size: min(520px, 60vw)) {
  .hero--with-pattern .hero-surface::before {
    background-size: 
      200px auto,
      520px 520px;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .hero--with-pattern .hero-surface::before {
    opacity: 0.08;
  }
}

/* Reduced motion preference - disable pattern animation if any */
@media (prefers-reduced-motion: reduce) {
  .hero--with-pattern .hero-surface::before {
    animation: none !important;
    transition: none !important;
  }
}

/* To add a new pattern:
   1. Add your SVG/PNG file to assets/img/patterns/ (e.g., my-pattern.svg)
   2. Add a new class below following this pattern:
      .hero-bg-my-pattern .hero-surface::before {
        background-image: 
          url('/assets/img/patterns/my-pattern.svg'),
          radial-gradient(
            circle at 85% 25%,
            rgba(26, 200, 122, 0.35),
            transparent 55%
          );
      }
   3. Reference it in page front-matter: hero_bg_pattern: "my-pattern"
*/
