{% comment %}
Homepage Portfolio Highlights Include
- Renders a simple three-card preview of portfolio items
- Data source: _data/portfolio_highlights.yml (key: highlights)
- Optional overrides: eyebrow, title, summary, cta_url, cta_label
Usage: {% include portfolio-highlights.html %}
{% endcomment %}
<section class="ts-portfolio" aria-labelledby="gallery-title">
  <div class="container">
    <div class="ts-portfolio__header">
      <p class="eyebrow text-accent">{{ include.eyebrow | default: 'Recent work' }}</p>
      <h2 id="gallery-title" class="heading-2 text-primary">{{ include.title | default: 'Portfolio highlights' }}</h2>
      <p class="lead">{{ include.summary | default: 'Waterproof tile assemblies, remodels, and maintenance scopes documented with clear photos and timelines.' }}</p>
    </div>

    {% assign items = site.data.portfolio_highlights.highlights | default: site.data.portfolio_highlights %}
    {% if items and items.size > 0 %}
      {% assign preview_items = items | slice: 0, 3 %}
      <ul class="ts-portfolio__grid" role="list">
        {% for item in preview_items %}
          <li class="ts-portfolio__card" role="listitem">
            <figure class="ts-portfolio__media" style="--ar: {{ item.ar | default: '4 / 3' }}">
              <img src="{{ item.file | relative_url }}"
                   alt="{{ item.alt | escape }}"
                   loading="lazy"
                   decoding="async">
            </figure>
            <div class="ts-portfolio__content">
              {% if item.category %}<span class="ts-portfolio__category">{{ item.category }}</span>{% endif %}
              {% if item.title %}<h3 class="ts-portfolio__title heading-4">{{ item.title }}</h3>{% endif %}
              {% if item.desc %}<p class="ts-portfolio__desc">{{ item.desc }}</p>{% endif %}
            </div>
          </li>
        {% endfor %}
      </ul>
    {% endif %}

    <div class="ts-portfolio__action">
      <a href="{{ include.cta_url | default: '/portfolio/' | relative_url }}" class="btn btn--primary">{{ include.cta_label | default: 'View full portfolio' }}</a>
    </div>
  </div>
</section>
